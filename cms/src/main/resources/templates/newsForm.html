<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Create News</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}" />
</head>
<body>

<header>
    <h1>Create a New Post</h1>
</header>

<div class="wrapper">
    <section>

        <form action="/news/create" method="post">
            <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>

            <label>Title:</label>
            <input type="text" name="title" required />

            <label>Category:</label>
            <select name="categoryId" id="categoryDropdown">
                <option value="">Select a category</option>
                <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.name}"></option>
            </select>

            <label>Or add a new category:</label>
            <input type="text" id="newCategoryInput" name="newCategoryName" />

            <label>Text:</label>
            <textarea name="content" required></textarea>

            <label>Comments toggle</label>
            <input type="checkbox" name="commentsEnabled" value="true" />

            <button type="submit">Submit</button>
        </form>

        <script>
    document.getElementById('newCategoryInput').addEventListener('input', function() {
        if (this.value.trim() !== '') {
            document.getElementById('categoryDropdown').value = '';
        }
    });
</script>


        <script>
            document.getElementById('newCategoryInput').addEventListener('input', function() {
                document.getElementById('categoryDropdown').value = '';
            });
        </script>


    </section>
</div>

</body>
</html>
